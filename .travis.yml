sudo: false
language: python
cache: pip

python:
  - 3.3
  - 3.4
  - 3.5
  - 3.6

env:
  matrix:
  - BUILD=py
  - BUILD=flake8
  - BUILD=docs
  global:
    secure: NRXfSpoRcdzQTTPU1j7mPrCSUWI0+YoRD/CWS3PLYa4WJrkyXWGB0qo9EdeSWYR9DWaXGfkkv5UZxPLJ4fajtTkaalQd/QV+ivFpvmfWO9NHStSc2xwqwBV10zXa9lDVwrBvjFDZkakugXQCbVjBKgm2zpD9kiSTJg5q6pagifQ=
matrix:
  exclude:
    # Sphinx requires python 3.4 or above
    - python: 3.3
      env: BUILD=docs

addons:
  apt:
    packages:
      - language-pack-de

install:
  - pip install tox codeclimate-test-reporter

script:
  - tox -e $BUILD

after_script:
  - codeclimate-test-reporter

deploy:
  provider: pypi
  user: hobarrera
  password:
    secure: LXSgJZMZICS0Xv5qyR/IRgki1Wy23lurmdepsOsjzBM2fv7rgKPlU/MASVCUCmLi9vYYqZu+7ViHeT6uhJXLdwE0NisVYqTg6L4aD1kqDmbjkWFhLKA7DAz1QTAYxrk6TQYmDb+ZbNFZlF21g29nqvqtLwdC4dFnDjXGnupCoeU=
  on:
    tags: true
  distributions: "sdist bdist_wheel"
CODECLIMATE_REPO_TOKEN:
  secure: kq7uURVOhtB7dDDe7VDoxk3YX7yCW+48GQ/F4qwxCSYYJ0r8mZhNrWL6n/TlbeRwfZiut6dYGDdCsmN34egrkmRu9SHVwLo0MdDAWJI0Wm8VvoF/YfwhtHM9zwkha206GAB+8xrnhaIrEXVOFTxNL82ajjQSNaO14WTNwkjIPkE=
